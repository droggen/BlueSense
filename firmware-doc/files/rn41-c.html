<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>rn41.c</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0 (Development Release 08-22-2015) -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="rn41"></a><a name="Topic137"></a><div class="CTopic TFile LC first">
 <div class="CTitle">rn41</div>
 <div class="CBody"><p>RN41 Bluetooth module functions</p><p>The key functions are:</p><ul><li><p>rn41_Setup:		Initialise the RN41</p></li></ul></div>
</div>

<a name="Functions"></a><a name="Topic250"></a><div class="CTopic TGroup LC">
 <div class="CTitle">Functions</div>
</div>

<a name="rn41_SetJ"></a><a name="Topic251"></a><div class="CTopic TFunction LC">
 <div class="CTitle">rn41_SetJ</div>
 <div id="NDPrototype251" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">char</span> rn41_SetJ(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType">FILE&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">fileinfo,</td></tr><tr><td class="first"></td><td class="PType">FILE&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">filebt,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">short</span>&nbsp;</td><td></td><td class="PName last">c</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Sets the page scan window.</p><p>The page scan window command sets the amount of time the device spends enabling page scanning (connectability).&nbsp; The page scan interval is 0x800.</p><p>Minimum value: 0x0012 Default value: 0x0100 Maximum value: 0x0800 Disabled: 0x0000 (non connectable)</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">fileinfo<div class="CDLParameterType">FILE*</div></td><td class="CDLDefinition"><p>UI file</p></td></tr><tr><td class="CDLEntry">filebt<div class="CDLParameterType">FILE*</div></td><td class="CDLDefinition"><p>File on which the RN41 is available</p></td></tr><tr><td class="CDLEntry">c<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">short</span></div></td><td class="CDLDefinition"><p>Page scan window</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">0</td><td class="CDLDefinition"><p>Always</p></td></tr></table></div>
</div>

<a name="rn41_GetExtendedParam"></a><a name="Topic252"></a><div class="CTopic TFunction LC">
 <div class="CTitle">rn41_GetExtendedParam</div>
 <div id="NDPrototype252" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">char</span> rn41_GetExtendedParam(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType">FILE&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">filebt,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">short</span>&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">srvclass,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">short</span>&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">devclass,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">cfgtimer,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">short</span>&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">inqw,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">short</span>&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">pagw</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Reads the extended parameters of the RN41</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">filebt<div class="CDLParameterType">FILE*</div></td><td class="CDLDefinition"><p>File descriptor to communicate with the RN41</p></td></tr><tr><td class="CDLEntry">srvclass<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">short</span>*</div></td><td class="CDLDefinition"><p>Pointer to variable holding the service class</p></td></tr><tr><td class="CDLEntry">devclass<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">short</span>*</div></td><td class="CDLDefinition"><p>Pointer to variable holding the device class</p></td></tr><tr><td class="CDLEntry">cfgtimer<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">char</span>*</div></td><td class="CDLDefinition"><p>Pointer to variable holding the configuration timeout parameter</p></td></tr><tr><td class="CDLEntry">inqw<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">short</span>*</div></td><td class="CDLDefinition"><p>Pointer to variable holding the inquiry window length</p></td></tr><tr><td class="CDLEntry">pagw<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">short</span>*</div></td><td class="CDLDefinition"><p>Pointer to variable holding the paging window length</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">0</td><td class="CDLDefinition"><p>Always This function returns the RN41 parameters through the srvclass, devclass, cfgtimer, inqw, pagw variables.</p></td></tr></table></div>
</div>

<a name="rn41_Setup"></a><a name="Topic253"></a><div class="CTopic TFunction LC last">
 <div class="CTitle">rn41_Setup</div>
 <div id="NDPrototype253" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> rn41_Setup(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType">FILE&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">file,</td></tr><tr><td class="first"></td><td class="PType">FILE&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">filebt,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">unsigned</span>&nbsp;</td><td class="PType"><span class="SHKeyword">char</span>&nbsp;</td><td class="PNamePrefix">*</td><td class="PName last">devname</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Initialises the RN41, performing: - Reset - Set-up of the RN41 parameters (name, class, etc) - Sets the low-power parameters: reduces the inquiry and scan window, low-power duty cycle 25%</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">file<div class="CDLParameterType">FILE*</div></td><td class="CDLDefinition"><p>Device where to send information about the setup (typically USB)</p></td></tr><tr><td class="CDLEntry">filebt<div class="CDLParameterType">FILE*</div></td><td class="CDLDefinition"><p>Device to which the BT chip is connected to</p></td></tr><tr><td class="CDLEntry">devname<div class="CDLParameterType"><span class="SHKeyword">unsigned</span> <span class="SHKeyword">char</span>*</div></td><td class="CDLDefinition"><p>Name that the Bluetooth chip must advertise</p></td></tr></table><div class="CHeading">Returns</div><p>-</p></div>
</div>

</body></html>