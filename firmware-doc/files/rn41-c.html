<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>rn41.c</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0 (Development Release 08-22-2015) -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="rn41"></a><a name="Topic1"></a><div class="CTopic TFile LC first">
 <div class="CTitle">rn41</div>
 <div class="CBody"><p>Notes about RN41: Changing a setting (i.e. ST for the configuration timeout) requires a reset either with &quot;R,1&quot; or with the reset button Setting the speed to 230.4 and higher leads to data overrun. Decreasing dbg callback frequency decrease the occurrence, but it still happens. Issue if receiving data (such as bootloader). Not if streaming out.&nbsp; F,1 to enable fast mode is only a valid command during connection, otherwise ERR ST with 0, 253, 254, 255 work as advertised. With another timeout the module still enters command mode</p><p>Prefer to use S-,&lt;name&gt; to set the name of the device as it is serialisation friendly</p><p>Rerunning the configuration (not clear which parameters: name, pin, mode, devclass, srvclass) requires to remove/readd the device on windows otherwise the connection fails. Likely some encryption key that changed.</p><p>Streaming data: 115.2K, w/o RTS, ST,255: speed 11563-11565 bytes/sec, with RTS often going off, then RN41 crashes (1-2 bursts of 128KB, not reboot); RTS led goes off, blinks, then stays mostly off with sporadic on; connection stays on. PC must disconnect, but this fails, rn41 must be reset 115.2K, w/&nbsp; RTS, ST,255: RN41 reboots (notifies REBOOT) and drops connection, but less frequently (3-6 bursts), 11143 bytes/sec. After reboot, PC can reconnect successfully after disconnection timeout on PC side.&nbsp; 115.2K, w/o RTS, ST,0:&nbsp; no visible discontinuity in RTS light; speed 11563 bytes/sec. No crash after 6 bursts.&nbsp; 115.2K, w/&nbsp; RTS, ST,0:&nbsp; no visible discontinuity in RTS light; speed 11564 bytes/sec. No crash after 6 bursts.</p><p>230.4K, w/&nbsp; RTS, ST,255: RTS flickers continuously, speed 166606-16956, reset on burst 3 and 4 230.4K, w/o RTS, ST,255: twice, crash halfway through burst; node receive garbage (likely &quot;reboot&quot; at 115k2), disconnection 230.4K, w/o RTS, ST,0: no visible discontinuity in RTS light; speed 22870-22874 bytes/sec. No crash after 6 bursts.&nbsp; 230.4K, w/&nbsp; RTS, ST,0: no visible discontinuity in RTS light; speed 22870-22875 bytes/sec. No crash after 6 bursts.</p><p>460.6K, w/&nbsp; RTS, ST,255: RTS flickers continuously, speed 20805-21389; once AVR rebooted; other time disconnect after 30 bursts 460.6K, w/o RTS, ST,255: twice crash halfway through burst; node receive garbage (likely &quot;reboot&quot; at 115k2), disconnection 460.4K, w/o RTS, ST,0: no visible discontinuity in RTS light; speed 24828-22874 bytes/sec. No crash after 6 bursts.&nbsp; 460.6K, w/&nbsp; RTS, ST,0: no visible discontinuity in RTS light; speed 24481-24504 bytes/sec. No crash after 6 bursts.&nbsp; (above benchmark with dbg_callback 3. with dbg_callback 0 speed at 230k4 is 22500 instead of 22800; with dbg_callback 1 speed at 230k4 is 22600 instead of 22800 - negligible impact on transmit, but important on receive)</p><p>Speeds higher than 115k2 lead to data overrun on reception in the AVR; issue: AVR not fast enough to read data and move to a buffer.&nbsp; Recommended: 230k4; although reception of data must be handled by a slow sender on PC side</p></div>
</div>

<a name="device_where_to_send_information_about_the_setup"></a><a name="Topic77"></a><div class="CTopic TFile LC last">
 <div class="CTitle">device where to send information about the setup (typically USB)</div>
 <div class="CBody"><p>filebt: device where the bt chip is hooked up to</p></div>
</div>

</body></html>